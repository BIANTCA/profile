<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Fadhilla – DC5 Ultra Profile</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Minimalist & interactive profile of Fadhilla, DC5">
  <meta name="theme-color" content="#6366f1">
  <!-- PWA manifest -->
  <link rel="manifest" href="data:application/manifest+json,{
    &quot;name&quot;:&quot;Fadhilla Profile&quot;,
    &quot;short_name&quot;:&quot;Fadhilla&quot;,
    &quot;icons&quot;:[{&quot;src&quot;:&quot;https://i.pravatar.cc/512&quot;,&quot;sizes&quot;:&quot;512x512&quot;,&quot;type&quot;:&quot;image/png&quot;}],
    &quot;start_url&quot;:&quot;/&quot;,
    &quot;display&quot;:&quot;standalone&quot;,
    &quot;background_color&quot;:&quot;#111827&quot;,
    &quot;theme_color&quot;:&quot;#6366f1&quot;
  }">
  <link rel="icon" href="https://i.pravatar.cc/64">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <!-- 3rd-party libs (CDN) -->
  <script src="https://cdn.jsdelivr.net/npm/three@0.158.0/build/three.min.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.3/build/qrcode.min.js" defer></script>

  <style>
    :root{
      --bg:#f8f9fb;
      --bg2:#ffffff;
      --text:#111827;
      --accent:#6366f1;
      --muted:#9ca3af;
      --border:#e5e7eb;
    }
    [data-theme="dark"]{
      --bg:#111827;
      --bg2:#1f2937;
      --text:#f9fafb;
      --accent:#818cf8;
      --border:#374151;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:'Poppins',sans-serif;background:var(--bg);color:var(--text);transition:.3s;overflow-x:hidden}
    #three-canvas{position:absolute;top:0;left:0;width:100%;height:260px;z-index:0}
    .top-bar{position:relative;display:flex;justify-content:space-between;align-items:center;padding:1rem 2rem}
    .toggle-theme,.lang-toggle{cursor:pointer;font-size:1.5rem;z-index:10}
    .live-clock{z-index:10;font-weight:600;font-size:1rem}
    .avatar-wrapper{position:relative;width:130px;height:130px;margin:-65px auto 0;z-index:2}
    .avatar{width:100%;height:100%;border-radius:50%;border:5px solid var(--bg2);object-fit:cover;cursor:pointer;transition:.3s}
    .avatar:hover{transform:scale(1.1)}
    .card{max-width:540px;margin:70px auto 2rem;background:var(--bg2);border:1px solid var(--border);border-radius:20px;box-shadow:0 8px 32px rgba(0,0,0,.1);padding:2rem;position:relative}
    .username{font-size:1.8rem;font-weight:700;text-align:center}
    .handle{text-align:center;color:var(--muted);font-size:.9rem;margin-bottom:.5rem}
    .bio{text-align:center;font-size:.95rem;margin-bottom:1.5rem}
    .section h3{font-size:1.15rem;margin-bottom:.75rem;color:var(--accent)}
    .info-list{font-size:.9rem;line-height:1.6}
    .info-list span{display:block;margin-bottom:.25rem}
    .skill{margin-bottom:.75rem;font-size:.9rem}
    .skill label{display:flex;justify-content:space-between;font-weight:600;margin-bottom:.2rem}
    .progress-bar{height:8px;background:var(--border);border-radius:4px;overflow:hidden;position:relative}
    .progress-fill{height:100%;background:var(--accent);width:0%;transition:width 1.2s}
    .achievements p{font-size:.85rem;margin:.2rem 0}
    .social-links{display:flex;gap:1rem;justify-content:center;margin-top:1rem}
    .social-links img{width:28px;height:28px;transition:.2s}
    .social-links a:hover img{transform:scale(1.2)}
    .qr-wrapper{text-align:center;margin-top:1.5rem}
    #qr-canvas{display:inline-block;border:1px solid var(--border);border-radius:8px;padding:.5rem}
    .visitor{display:flex;align-items:center;justify-content:center;gap:.5rem;font-weight:700;margin:1rem 0;font-size:1rem}
    .footer{text-align:center;padding:1.5rem 1rem;color:var(--muted);font-size:.8rem}
    .sound-toggle{position:fixed;bottom:1rem;right:1rem;background:var(--accent);color:#fff;border:none;border-radius:50%;width:45px;height:45px;font-size:1.25rem;cursor:pointer;z-index:20}
  </style>
</head>
<body>
<canvas id="three-canvas"></canvas>

<header class="top-bar">
  <div class="live-clock" id="clock">--:--:--</div>
  <div>
    <span class="lang-toggle" id="langToggle" title="Ganti bahasa">🇮🇩</span>
    <span class="toggle-theme" id="themeToggle" title="Toggle dark mode">🌓</span>
  </div>
</header>

<main class="card">
  <div class="avatar-wrapper">
    <img class="avatar" id="avatar" src="https://i.pravatar.cc/300?u=fadhilla" alt="Avatar">
    <input type="file" id="avatarUpload" accept="image/*" hidden>
  </div>

  <h1 class="username" data-key="name">Fadhilla</h1>
  <div class="handle">@BIANTCA · DC5 (SIN)</div>
  <p class="bio" data-key="bio">nil timendum est</p>

  <!-- Visitor counter -->
  <div class="visitor">
    <span id="visitorIcon">👀</span>
    <span id="visitorCount">0</span>
  </div>

  <!-- Info -->
  <section class="section">
    <h3 data-key="info">Info</h3>
    <div class="info-list">
      <span data-key="reg">Registration: 10 Dec 2019</span>
      <span data-key="mobile">Mobile: +62 (123) 456-7891</span>
      <span data-key="posts">Posts: 1113612169</span>
      <span data-key="arch">Archived: 048</span>
    </div>
  </section>

  <!-- Skills -->
  <section class="section">
    <h3 data-key="skill">Skills</h3>
    <div class="skill">
      <label><span data-key="s1">🍱 Cooking</span><span>92%</span></label>
      <div class="progress-bar"><div class="progress-fill" data-val="92"></div></div>
    </div>
    <div class="skill">
      <label><span data-key="s2">📸 Photography</span><span>85%</span></label>
      <div class="progress-bar"><div class="progress-fill" data-val="85"></div></div>
    </div>
    <div class="skill">
      <label><span data-key="s3">✈️ Traveling</span><span>99%</span></label>
      <div class="progress-bar"><div class="progress-fill" data-val="99"></div></div>
    </div>
  </section>

  <!-- Achievements -->
  <section class="section achievements">
    <h3 data-key="ach">Achievements</h3>
    <p>🏅 DC5 Elite Club 2023</p>
    <p>📸 Featured on @instagood</p>
    <p>🥾 30+ Countries Visited</p>
  </section>

  <!-- Social -->
  <section class="section">
    <h3 data-key="soc">Social</h3>
    <div class="social-links">
      <a href="https://instagram.com/fadhilla_dc5" target="_blank"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/instagram/instagram-original.svg" alt="IG"></a>
      <a href="https://github.com/BIANTCA" target="_blank"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/github/github-original.svg" alt="GitHub"></a>
      <a href="https://twitter.com/fadhilla_dc5" target="_blank"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/twitter/twitter-original.svg" alt="Twitter"></a>
    </div>
  </section>

  <!-- QR vCard -->
  <section class="qr-wrapper">
    <h3 data-key="qr">QR vCard</h3>
    <canvas id="qr-canvas"></canvas>
  </section>
</main>

<footer class="footer">
  <span data-key="notif">🔔 Status: online since 5:05 PM</span><br>
  © <span id="year">2025</span> Fadhilla – built with vanilla JS magic.
</footer>

<button class="sound-toggle" title="Toggle sounds" id="soundToggle">🔊</button>

<script>
/* ===== CONFIG ===== */
const SOUNDS_ENABLED = !!localStorage.getItem('sounds');
const TYPE_SND = new Audio('data:audio/wav;base64,UklGRiQEAABXQVZFZm10IBAAAAABAAEAESsAABErAAABAAgAZGF0YQAEAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYIG2m98OScTgwOUarm7blmFgU7k9n1unEiBC13yO/eizEIHWq+8+OWT');

/* ===== THEME ===== */
const themeToggle = document.getElementById('themeToggle');
function applyTheme(dark){
  document.documentElement.setAttribute('data-theme', dark ? 'dark' : 'light');
  themeToggle.textContent = dark ? '🌞' : '🌙';
}
themeToggle.addEventListener('click', ()=>{
  const dark = document.documentElement.getAttribute('data-theme') !== 'dark';
  applyTheme(dark);
  localStorage.setItem('dark', dark);
});
applyTheme(localStorage.getItem('dark') === 'true');

/* ===== CLOCK ===== */
const clock = document.getElementById('clock');
function updateClock(){
  clock.textContent = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
}
setInterval(updateClock, 1000);
updateClock();

/* ===== VISITOR COUNTER ===== */
let visitors = parseInt(localStorage.getItem('visitors') || '0');
visitors++;
localStorage.setItem('visitors', visitors);
document.getElementById('visitorCount').textContent = visitors;

/* ===== LANGUAGE ===== */
const langToggle = document.getElementById('langToggle');
const dict = {
  id:{
    name:"Fadhilla",
    bio:"nil timendum est",
    info:"Info",
    reg:"Registrasi: 10 Des 2019",
    mobile:"HP: +62 (123) 456-7891",
    posts:"Postingan: 1113612169",
    arch:"Diarsip: 048",
    skill:"Skill",
    s1:"🍱 Memasak",
    s2:"📸 Fotografi",
    s3:"✈️ Traveling",
    ach:"Penghargaan",
    soc:"Sosial",
    qr:"QR vCard",
    notif:"🔔 Status: online sejak 17:05"
  },
  en:{
    name:"Fadhilla",
    bio:"nil timendum est",
    info:"Info",
    reg:"Registration: 10 Dec 2019",
    mobile:"Mobile: +62 (123) 456-7891",
    posts:"Posts: 1113612169",
    arch:"Archived: 048",
    skill:"Skills",
    s1:"🍱 Cooking",
    s2:"📸 Photography",
    s3:"✈️ Traveling",
    ach:"Achievements",
    soc:"Social",
    qr:"QR vCard",
    notif:"🔔 Status: online since 5:05 PM"
  }
};
let currentLang = localStorage.getItem('lang') || 'id';
function applyLanguage(l){
  Object.keys(dict[l]).forEach(k=>{
    document.querySelectorAll(`[data-key="${k}"]`).forEach(el=>el.innerHTML = dict[l][k]);
  });
  langToggle.textContent = l==='id'?'🇺🇸':'🇮🇩';
}
langToggle.addEventListener('click', ()=>{
  currentLang = currentLang==='id'?'en':'id';
  applyLanguage(currentLang);
  localStorage.setItem('lang', currentLang);
});
applyLanguage(currentLang);

/* ===== SOUNDS ===== */
document.getElementById('soundToggle').addEventListener('click', ()=>{
  const on = !SOUNDS_ENABLED;
  localStorage.setItem('sounds', on?'1':'');
  location.reload();
});

/* ===== PROGRESS BARS ===== */
const io = new IntersectionObserver(entries=>{
  entries.forEach(e=>{
    if(e.isIntersecting){
      document.querySelectorAll('.progress-fill').forEach(el=>{
        el.style.width = el.dataset.val + '%';
      });
    }
  });
});
io.observe(document.querySelector('.skills'));

/* ===== AVATAR SWAP ===== */
const avatar = document.getElementById('avatar');
const fileInp = document.getElementById('avatarUpload');
avatar.addEventListener('click', ()=>fileInp.click());
fileInp.addEventListener('change', e=>{
  const file = e.target.files[0];
  if(file){
    const url = URL.createObjectURL(file);
    avatar.src = url;
    localStorage.setItem('avatar', url);
  }
});
if(localStorage.getItem('avatar')) avatar.src = localStorage.getItem('avatar');

/* ===== CONFETTI ON ACHIEVEMENT HOVER ===== */
document.querySelectorAll('.achievements p').forEach(p=>{
  p.addEventListener('mouseenter', ()=>{
    if(typeof confetti === 'function'){
      confetti({particleCount:50,spread:70,origin:{y:.8}});
    }
  });
});

/* ===== PUSH NOTIFICATION ===== */
if('Notification' in window && Notification.permission === 'default'){
  Notification.requestPermission().then(perm=>{
    if(perm==='granted'){
      new Notification('Hai dari Fadhilla! 🌸', {body:'Terima kasih sudah mampir 😉', icon:'https://i.pravatar.cc/64'});
    }
  });
}

/* ===== 3-D PARTICLE HEADER ===== */
let scene, camera, renderer, particles;
function initThree(){
  if(!window.THREE) return;
  scene = new THREE.Scene();
  camera = new THREE.PerspectiveCamera(75, innerWidth/260, .1, 1000);
  camera.position.z = 5;
  renderer = new THREE.WebGLRenderer({canvas: document.getElementById('three-canvas'), alpha:true});
  renderer.setSize(innerWidth, 260);
  const geo = new THREE.BufferGeometry();
  const count = 2000;
  const pos = new Float32Array(count*3);
  for(let i=0;i<count*3;i++) pos[i]=(Math.random()-.5)*10;
  geo.setAttribute('position', new THREE.BufferAttribute(pos,3));
  const mat = new THREE.PointsMaterial({color:0x6366f1,size:.02});
  particles = new THREE.Points(geo,mat);
  scene.add(particles);
  function animate(){
    requestAnimationFrame(animate);
    particles.rotation.x += .0005;
    particles.rotation.y += .0007;
    renderer.render(scene,camera);
  }
  animate();
}
window.addEventListener('load', initThree);
window.addEventListener('resize', ()=>{
  if(renderer){
    camera.aspect = innerWidth/260;
    camera.updateProjectionMatrix();
    renderer.setSize(innerWidth, 260);
  }
});

/* ===== YEAR ===== */
document.getElementById('year').textContent = new Date().getFullYear();
</script>
</body>
</html>
